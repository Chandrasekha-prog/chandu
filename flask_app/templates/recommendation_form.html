{% extends "layout.html" %}

{% block content %}
<div class="max-w-2xl mx-auto">
    <div class="flex items-center gap-4 mb-6">
        <a href="{{ url_for('dashboard') }}"
            class="text-gray-500 hover:text-gray-700 bg-white shadow-sm p-2 rounded-lg border border-gray-200">
            ‚Üê Back
        </a>
        <div>
            <h1 class="text-2xl font-bold text-gray-800">New Fertilizer Recommendation</h1>
            <p class="text-gray-500">Fill in your field details to get scientific advice</p>
        </div>
    </div>

    <form method="POST" action="{{ url_for('new_recommendation') }}" class="card space-y-6">

        <!-- Crop Details Section -->
        <div>
            <h2
                class="text-lg font-bold text-primary-700 uppercase tracking-widest text-sm mb-4 border-b border-primary-100 pb-2 flex items-center gap-2">
                üåæ Crop Details
            </h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div>
                    <label class="block text-gray-700 font-semibold mb-2">Select Crop *</label>
                    <select name="crop_name" required class="input-field bg-white">
                        <option value="">-- Choose Crop --</option>
                        <option value="Paddy">Paddy / ‡∞µ‡∞∞‡∞ø</option>
                        <option value="Cotton">Cotton / ‡∞™‡∞§‡±ç‡∞§‡∞ø</option>
                        <option value="Maize">Maize / ‡∞Æ‡±ä‡∞ï‡±ç‡∞ï‡∞ú‡±ä‡∞®‡±ç‡∞®</option>
                        <option value="Groundnut">Groundnut / ‡∞µ‡±á‡∞∞‡±Å‡∞∂‡∞®‡∞ó</option>
                        <option value="Chilli">Chilli / ‡∞Æ‡∞ø‡∞∞‡∞™</option>
                    </select>
                </div>
                <div>
                    <label class="block text-gray-700 font-semibold mb-2">Variety (Optional)</label>
                    <input type="text" name="variety" placeholder="e.g., BPT 5204" class="input-field">
                </div>
            </div>
        </div>

        <!-- Field Details Section -->
        <div>
            <h2
                class="text-lg font-bold text-primary-700 uppercase tracking-widest text-sm mb-4 border-b border-primary-100 pb-2 flex items-center gap-2">
                üìç Field Details
            </h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div>
                    <label class="block text-gray-700 font-semibold mb-2">Area Sown (Acres) *</label>
                    <input type="number" name="area_sown" step="0.1" min="0.1" placeholder="e.g., 2.5"
                        class="input-field" required>
                </div>
                <div>
                    <label class="block text-gray-700 font-semibold mb-2">Sowing Date *</label>
                    <input type="date" name="sowing_date" class="input-field" required>
                </div>
                <div>
                    <label class="block text-gray-700 font-semibold mb-2">District</label>
                    <input type="text" name="district" value="{{ farmer.district }}" class="input-field bg-gray-50"
                        readonly>
                    <p class="text-xs text-gray-500 mt-1">Defaulted to your profile district</p>
                </div>
                <div>
                    <label class="block text-gray-700 font-semibold mb-2">Mandal</label>
                    <input type="text" name="mandal" value="{{ farmer.mandal }}" class="input-field bg-gray-50"
                        readonly>
                    <p class="text-xs text-gray-500 mt-1">Defaulted to your profile mandal</p>
                </div>
            </div>
        </div>

        <div class="pt-4 border-t border-gray-100 flex justify-end gap-3">
            <a href="{{ url_for('dashboard') }}"
                class="px-6 py-2.5 rounded-lg font-semibold text-gray-600 hover:bg-gray-100 transition-colors">
                Cancel
            </a>
            <button type="submit"
                class="bg-primary-600 hover:bg-primary-700 text-white px-6 py-2.5 rounded-lg font-semibold shadow-md transition-all flex items-center gap-2">
                <span>Calculate Setup</span> ‚ú®
            </button>
        </div>
    </form>
</div>
{% endblock %}